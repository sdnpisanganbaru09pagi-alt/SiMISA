/* â”€â”€ Google Font â”€â”€ */
@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SiMISA â€” Design System (SiMERY-aligned)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

:root {
  --accent-1:#0ea5e9;
  --accent-2:#06b6d4;
  --accent-3:#8b5cf6;
  --blue-dark:#0369a1;
  --blue-light:#f0f9ff;
  --blue-mid:#bae6fd;
  --text:#0f172a;
  --text-2:#475569;
  --text-3:#94a3b8;
  --muted:#64748b;
  --border:rgba(14,165,233,0.15);
  --border-2:rgba(14,165,233,0.08);
  --surface:#ffffff;
  --bg-start:#f0f9ff;
  --bg-end:#e0f2fe;
  --success:#10b981;
  --warning:#f59e0b;
  --danger:#ef4444;
  --radius:12px;
  --radius-lg:16px;
  --shadow-sm:0 1px 4px rgba(14,165,233,0.06);
  --shadow-md:0 8px 20px rgba(14,165,233,0.12);
  --shadow-lg:0 16px 40px rgba(14,165,233,0.18);
}

/* â”€â”€ Reset â”€â”€ */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:'Plus Jakarta Sans',ui-sans-serif,system-ui,sans-serif;
  background:linear-gradient(135deg,var(--bg-start) 0%,var(--bg-end) 100%);
  color:var(--text);
  font-size:14px;line-height:1.6;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
input,select,button,textarea{font-family:inherit;font-size:14px;outline:none}
input,select,textarea{transition:all 0.2s ease}

/* â”€â”€ Desktop frame â”€â”€ */
@media(min-width:768px){
  body{
    display:flex;align-items:flex-start;justify-content:center;
    min-height:100vh;padding:32px 0 48px;background:transparent;
  }
  body::after{
    content:'';position:fixed;inset:0;z-index:-1;
    background:
      radial-gradient(circle at 20% 20%,rgba(14,165,233,0.12) 0%,transparent 50%),
      radial-gradient(circle at 80% 80%,rgba(139,92,246,0.1) 0%,transparent 50%),
      radial-gradient(circle at 50% 50%,rgba(6,182,212,0.06) 0%,transparent 70%),
      linear-gradient(135deg,#e0f2fe 0%,#f0f9ff 50%,#ede9fe 100%);
    pointer-events:none;
  }
  body::before{
    content:'ðŸ“± SiMISA â€” Mobile App Preview';
    position:fixed;top:0;left:0;right:0;height:32px;
    display:flex;align-items:center;justify-content:center;
    font-family:'Plus Jakarta Sans',ui-sans-serif,system-ui,sans-serif;
    font-size:11px;font-weight:700;letter-spacing:0.04em;
    color:rgba(3,105,161,0.6);
    background:rgba(240,249,255,0.92);
    backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);
    border-bottom:1px solid rgba(14,165,233,0.12);
    z-index:99999;pointer-events:none;
  }
}

/* â”€â”€ App shell â”€â”€ */
.app{width:100%;min-height:100vh;display:flex;flex-direction:column;background:#fff}
@media(min-width:768px){
  .app{
    width:560px;min-height:100vh;max-height:none;height:auto;border-radius:0;
    box-shadow:
      0 0 0 1px rgba(14,165,233,0.15),
      0 8px 32px rgba(14,165,233,0.15),
      0 32px 80px rgba(3,105,161,0.12),
      0 0 0 8px rgba(255,255,255,0.6);
    position:relative;overflow:hidden;isolation:isolate;
  }
  .app::before{
    content:'';display:block;height:3px;flex-shrink:0;
    background:linear-gradient(90deg,var(--accent-1),var(--accent-2),var(--accent-3));
  }
}

/* â”€â”€ Header â”€â”€ */
@keyframes gradShift{
  0%  {background-position:0% 50%}
  50% {background-position:100% 50%}
  100%{background-position:0% 50%}
}
.header{
  background:linear-gradient(135deg,var(--accent-1),var(--accent-2),var(--accent-3),var(--accent-1));
  background-size:300% 300%;
  animation:gradShift 8s ease infinite;
  padding:16px;
  display:flex;align-items:center;gap:12px;
  position:sticky;top:0;z-index:100;
  box-shadow:0 4px 20px rgba(14,165,233,0.2);
}
.brand{display:flex;gap:12px;align-items:center;flex:1;min-width:0;position:relative;z-index:1}
.logo{
  width:48px;height:48px;border-radius:14px;
  background:rgba(255,255,255,0.2);
  display:flex;align-items:center;justify-content:center;
  font-size:22px;flex-shrink:0;
  box-shadow:0 4px 12px rgba(0,0,0,0.1);
  border:1px solid rgba(255,255,255,0.25);
  overflow:hidden;
}
.logo img{width:100%;height:100%;object-fit:cover;border-radius:14px}
.title{font-weight:800;font-size:1.1rem;color:#fff;line-height:1.2;letter-spacing:-0.02em}
.subtitle{font-size:0.78rem;color:rgba(255,255,255,0.85);margin-top:1px;font-weight:500}
.header-actions{display:flex;gap:8px;align-items:center;flex-shrink:0}
.header-actions .btn{
  padding:7px 14px;font-size:12px;font-weight:700;border-radius:10px;white-space:nowrap;
  border:1.5px solid rgba(255,255,255,0.35) !important;
  background:rgba(255,255,255,0.18) !important;
  color:#fff !important;
  transition:background 0.2s,transform 0.15s;
}
.header-actions .btn:hover{
  background:rgba(255,255,255,0.3) !important;transform:translateY(-1px);
  box-shadow:0 4px 12px rgba(0,0,0,0.15);
}

/* â”€â”€ Main â”€â”€ */
.main{padding:16px;flex:1;background:transparent;min-width:0;overflow-x:hidden}

/* â”€â”€ Tabs â”€â”€ */
.tabs{
  display:flex;gap:4px;margin-bottom:20px;
  background:#ffffff;
  border:2px solid rgba(14,165,233,0.1);
  border-radius:var(--radius-lg);padding:5px;
  box-shadow:0 2px 12px rgba(14,165,233,0.08);
}
.tab{
  flex:1;min-width:0;padding:8px 2px;border-radius:var(--radius);border:none;
  background:transparent;font-family:inherit;
  color:var(--muted);cursor:pointer;text-align:center;
  transition:all 0.2s ease;
  display:flex;flex-direction:column;align-items:center;gap:3px;
  overflow:hidden;position:relative;
  -webkit-tap-highlight-color:transparent;
}
.tab:active{transform:scale(0.95)}
.tab-icon{
  font-size:15px;line-height:1;flex-shrink:0;
  display:flex;align-items:center;justify-content:center;
  width:18px;height:18px;
}
.tab-label{
  font-size:8.5px;font-weight:700;line-height:1.2;
  white-space:normal;word-break:keep-all;overflow-wrap:normal;
  width:100%;text-align:center;
  text-transform:uppercase;letter-spacing:0.01em;
}
.tab.active{
  background:linear-gradient(135deg,var(--accent-1),var(--accent-2));
  color:#fff;
  box-shadow:0 4px 12px rgba(14,165,233,0.3);
  transform:translateY(-1px);
}
.tab:not(.active):hover{background:var(--blue-light);color:var(--blue-dark)}

/* â”€â”€ View transitions â”€â”€ */
.view{opacity:1;transition:opacity 0.25s ease;min-width:0;overflow-x:hidden}
.view.fade-in{animation:fadeIn 0.3s ease forwards}
@keyframes fadeIn{
  from{opacity:0;transform:translateY(6px)}
  to{opacity:1;transform:translateY(0)}
}

/* â”€â”€ Stats â”€â”€ */
.stats{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:20px}
.stat{
  background:#ffffff;border:2px solid rgba(14,165,233,0.1);
  border-radius:var(--radius-lg);padding:18px 10px;text-align:center;
  transition:all 0.2s ease;position:relative;overflow:hidden;
}
.stat:hover{transform:translateY(-3px);box-shadow:var(--shadow-md);border-color:rgba(14,165,233,0.25)}
.stat .n{
  font-size:1.75rem;font-weight:800;line-height:1;margin-bottom:6px;letter-spacing:-0.03em;
  background:linear-gradient(135deg,var(--accent-1),var(--accent-2));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.stat .label{font-size:0.72rem;color:var(--muted);font-weight:700;text-transform:uppercase;letter-spacing:0.05em}

/* â”€â”€ Search â”€â”€ */
.search{display:flex;gap:10px;margin-bottom:16px;align-items:stretch}
.search input{
  flex:1;min-width:0;padding:12px 16px;
  border-radius:var(--radius);border:2px solid rgba(14,165,233,0.12);
  background:#ffffff;font-family:inherit;font-size:14px;color:var(--text);
  transition:all 0.2s ease;
}
.search input::placeholder{color:var(--muted);opacity:0.7}
.search input:focus{outline:none;border-color:var(--accent-1);box-shadow:0 0 0 3px rgba(14,165,233,0.1)}

/* â”€â”€ Buttons â”€â”€ */
.btn{
  display:inline-flex;align-items:center;gap:8px;justify-content:center;
  border-radius:var(--radius);padding:11px 18px;border:none;
  cursor:pointer;font-family:inherit;font-size:13px;font-weight:700;
  transition:all 0.2s ease;text-decoration:none;white-space:nowrap;letter-spacing:0.01em;
}
.btn:hover{transform:translateY(-2px);box-shadow:0 4px 14px rgba(0,0,0,0.12)}
.btn:active{transform:translateY(0);opacity:0.9}
.btn.ghost{background:#ffffff;border:2px solid rgba(14,165,233,0.15);color:var(--muted)}
.btn.ghost:hover{border-color:rgba(14,165,233,0.3);color:var(--text)}
.btn.primary{background:linear-gradient(135deg,var(--accent-1),var(--accent-2));color:#fff;box-shadow:0 2px 8px rgba(14,165,233,0.25)}
.btn.primary:hover{box-shadow:0 6px 18px rgba(14,165,233,0.35)}
.btn.danger{background:linear-gradient(135deg,var(--danger),#f87171);color:#fff;box-shadow:0 2px 8px rgba(239,68,68,0.25)}
.btn.danger:hover{box-shadow:0 6px 18px rgba(239,68,68,0.35)}
.btn.export{background:linear-gradient(135deg,var(--success),#34d399);color:#fff;font-weight:700;box-shadow:0 2px 8px rgba(16,185,129,0.25)}
.btn.export:hover{box-shadow:0 6px 18px rgba(16,185,129,0.35)}
.btn.import{background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;font-weight:700;box-shadow:0 2px 8px rgba(59,130,246,0.25)}
.btn.import:hover{box-shadow:0 6px 18px rgba(59,130,246,0.35)}
.btn.export-pdf{background:linear-gradient(135deg,var(--success),#34d399);color:#fff;font-weight:800;box-shadow:0 4px 14px rgba(16,185,129,0.3);padding:12px 18px}
.btn.export-pdf:hover{box-shadow:0 6px 20px rgba(16,185,129,0.4)}
.btn.export-pdf:active{transform:scale(0.97)}
.btn.borrowed-return{background:linear-gradient(135deg,var(--warning),#f97316);color:#fff;font-weight:700;box-shadow:0 2px 8px rgba(249,115,22,0.25)}
.btn.borrowed-return:hover{box-shadow:0 6px 18px rgba(249,115,22,0.35)}
.btn.full{width:100%}
.btn.active{background:linear-gradient(135deg,var(--accent-1),var(--accent-2));color:#fff;box-shadow:0 4px 12px rgba(14,165,233,0.3)}

/* â”€â”€ Filter chips â”€â”€ */
.actions.chips{gap:6px;flex-wrap:wrap;margin-bottom:16px}
.actions.chips .btn.ghost{
  padding:5px 12px;border-radius:20px;
  border:1.5px solid rgba(14,165,233,0.18);
  font-size:12px;font-weight:600;
}
.actions.chips .btn.ghost:hover{border-color:var(--accent-1);color:var(--accent-1);background:var(--blue-light)}
.actions.chips .btn.active{
  background:linear-gradient(135deg,var(--accent-1),var(--accent-2));
  color:#fff;border-color:transparent;
  box-shadow:0 2px 8px rgba(14,165,233,0.3);
}

/* â”€â”€ Cards â”€â”€ */
.list{display:grid;gap:14px}
.card{
  background:#ffffff;border:2px solid rgba(14,165,233,0.1);
  border-radius:var(--radius-lg);padding:18px;
  display:flex;flex-direction:column;transition:all 0.2s ease;
}
.card:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:rgba(14,165,233,0.22)}
.card.available{border-color:rgba(14,165,233,0.1)}
.card.borrowed{border-color:rgba(249,115,22,0.2);background:linear-gradient(180deg,#fff,#fff7ed)}
.card .top{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;margin-bottom:10px}
.card h3{font-size:1.05rem;font-weight:700;color:var(--text);margin:6px 0;letter-spacing:-0.01em}
.meta{color:var(--text-2);font-size:0.875rem;line-height:1.6;font-weight:500}
.actions{display:flex;gap:8px;margin-top:14px;flex-wrap:wrap}

/* â”€â”€ Badges â”€â”€ */
.badge{
  display:inline-flex;align-items:center;gap:4px;
  padding:5px 12px;border-radius:20px;
  font-weight:700;font-size:0.7rem;letter-spacing:0.05em;
  text-transform:uppercase;white-space:nowrap;flex-shrink:0;
  box-shadow:0 2px 8px rgba(0,0,0,0.1);
}
.badge.available{background:linear-gradient(135deg,#10b981,#34d399);color:#fff}
.badge.borrowed{background:linear-gradient(135deg,var(--warning),#f97316);color:#fff}

/* â”€â”€ Section box container â”€â”€ */
.section-box{
  background:#ffffff;border:1.5px solid var(--border);
  border-radius:var(--radius-lg);padding:18px;
  box-shadow:var(--shadow-sm);margin-bottom:16px;
  overflow:hidden;
  min-width:0;
}
.section-title{
  font-weight:800;font-size:1rem;color:var(--blue-dark);
  margin-bottom:14px;display:flex;align-items:center;gap:6px;
}

/* â”€â”€ Forms â”€â”€ */
.form{display:grid;gap:16px;min-width:0}
.form label,.config-label{
  display:block;font-size:0.82rem;color:var(--muted);
  font-weight:700;letter-spacing:0.02em;margin-bottom:4px;
}
.input,.select{
  padding:12px 16px;border-radius:var(--radius);
  border:2px solid rgba(14,165,233,0.12);width:100%;
  background:#ffffff;font-family:inherit;font-size:14px;color:var(--text);
  transition:all 0.2s ease;display:block;
}
.input:focus,.select:focus{
  outline:none;border-color:var(--accent-1);
  box-shadow:0 0 0 3px rgba(14,165,233,0.1);background:#fff;
}
.input::placeholder{color:var(--muted);opacity:0.7}
select option{background:#fff;color:var(--text)}

/* â”€â”€ Divider â”€â”€ */
.hr{height:1px;background:linear-gradient(90deg,transparent,rgba(14,165,233,0.2),transparent);margin:10px 0;border:none}

/* â”€â”€ Photo upload â”€â”€ */
.photo-upload-container{
  position:relative;
  border:2px dashed rgba(14,165,233,0.25);
  border-radius:var(--radius);padding:20px;text-align:center;
  cursor:pointer;transition:all 0.2s ease;background:var(--blue-light);
}
.photo-upload-container:hover{border-color:var(--accent-1);background:rgba(14,165,233,0.07)}
.photo-upload-container input[type="file"]{
  opacity:0;position:absolute;top:0;left:0;
  width:100%;height:100%;cursor:pointer;z-index:2;
}
.upload-placeholder{color:var(--muted)}
.upload-icon{font-size:2rem;margin-bottom:6px}
.upload-placeholder p{font-weight:700;color:var(--text-2);margin:4px 0}
.upload-placeholder small{font-size:12px;color:var(--text-3)}
.photo-upload-container.has-image .upload-placeholder{display:none}
.photo-preview img{width:100%;height:auto;max-height:200px;object-fit:cover;border-radius:var(--radius);display:block}
.btn-remove-photo{
  position:absolute;top:8px;right:8px;
  width:28px;height:28px;border-radius:50%;
  background:rgba(239,68,68,0.9);color:#fff;border:none;
  cursor:pointer;display:flex;align-items:center;justify-content:center;
  font-size:16px;font-weight:700;z-index:3;
  transition:all 0.2s ease;box-shadow:0 2px 8px rgba(239,68,68,0.3);
}
.btn-remove-photo:hover{background:var(--danger);transform:scale(1.1)}

/* â”€â”€ Signature pad â”€â”€ */
.sig-wrap{margin:8px 0}
.sig-wrap label{display:block;margin-bottom:6px;font-weight:700;font-size:13px;color:var(--text-2)}
.sig-wrap canvas{
  border:2px dashed rgba(14,165,233,0.3);border-radius:var(--radius);
  background:#fff;cursor:crosshair;touch-action:none;transition:border-color 0.2s;display:block;
  max-width:100%;  /* prevent canvas from overflowing its container */
}
.sig-wrap canvas:hover{border-color:var(--accent-1)}
/* Signature layout: stack vertically on small screens */
.sig-wrap .sig-row{
  display:flex;gap:8px;align-items:flex-start;flex-wrap:wrap;
}
.sig-wrap .sig-controls{
  display:flex;flex-direction:column;gap:6px;min-width:0;flex:1;
}

/* â”€â”€ Preview photo in card â”€â”€ */
.preview{border-radius:var(--radius);overflow:hidden;margin-top:10px}
.preview img{width:100%;height:auto;display:block;cursor:zoom-in;max-height:220px;object-fit:cover}

/* â”€â”€ History controls â”€â”€ */
.history-controls{display:flex;gap:10px;margin-bottom:16px;align-items:stretch;flex-wrap:wrap}
.wide-month{
  flex:1;min-width:180px;padding:12px 16px;font-size:14px;
  border-radius:var(--radius);border:2px solid rgba(14,165,233,0.12);
  background:#ffffff;font-family:inherit;color:var(--text);transition:all 0.2s ease;
}
.wide-month:focus{outline:none;border-color:var(--accent-1);box-shadow:0 0 0 3px rgba(14,165,233,0.1)}

/* â”€â”€ Horizontal actions â”€â”€ */
.horizontal-actions{display:flex;gap:8px;width:100%}
.horizontal-actions .btn{flex:1;min-width:0;padding:12px 8px;font-size:13px}

/* â”€â”€ Toast / Notification â”€â”€ */
@keyframes toastIn{
  from{opacity:0;transform:translateY(-12px) scale(0.96)}
  to  {opacity:1;transform:translateY(0) scale(1)}
}
@keyframes toastOut{
  from{opacity:1;transform:translateY(0) scale(1)}
  to  {opacity:0;transform:translateY(-8px) scale(0.97)}
}
.notification{
  position:fixed;top:76px;right:16px;left:16px;
  margin:0 auto;max-width:360px;
  padding:14px 16px;border-radius:14px;
  background:#ffffff;box-shadow:0 8px 32px rgba(0,0,0,0.15);
  z-index:5000;color:#fff;opacity:0;pointer-events:auto;
  animation:toastIn 0.3s cubic-bezier(0.34,1.56,0.64,1) forwards;
}
@media(min-width:768px){
  .notification{
    left:calc(50% - 280px + 16px);right:auto;
    width:calc(560px - 32px);max-width:calc(560px - 32px);transform:none;
  }
  .notification.hiding{transform:translateY(-8px) scale(0.97)}
}
.notification.hiding{animation:toastOut 0.22s ease forwards}
.notification.show{opacity:1}
.notification.success{background:linear-gradient(135deg,#10b981,#059669);box-shadow:0 8px 32px rgba(16,185,129,0.3)}
.notification.error,.notification.danger{background:linear-gradient(135deg,#ef4444,#dc2626);box-shadow:0 8px 32px rgba(239,68,68,0.3)}
.notification.warning{background:linear-gradient(135deg,#f59e0b,#d97706);box-shadow:0 8px 32px rgba(245,158,11,0.3)}
.notification.info{background:linear-gradient(135deg,#3b82f6,#2563eb);box-shadow:0 8px 32px rgba(59,130,246,0.3)}
.notification-content{display:flex;align-items:center;gap:12px}
.notification-icon{
  flex-shrink:0;width:28px;height:28px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:14px;background:rgba(255,255,255,0.2);
}
.notification-text{flex:1}
.notification-title{font-weight:700;font-size:14px;color:#fff;line-height:1.3}
.notification-close{
  flex-shrink:0;width:24px;height:24px;border-radius:50%;border:none;
  background:rgba(255,255,255,0.2);color:#fff;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;font-size:14px;padding:0;font-family:inherit;
  transition:background 0.15s;
}
.notification-close:hover{background:rgba(255,255,255,0.32)}
@media(max-width:480px){.notification{right:12px;left:12px;max-width:none;top:72px}}

/* â”€â”€ Progress overlay â”€â”€ */
#progressOverlay{
  position:fixed;inset:0;
  background:rgba(7,89,133,0.5);z-index:9999;
  display:flex;align-items:center;justify-content:center;
  backdrop-filter:blur(4px);
}
#progressOverlay > div{
  background:#fff;padding:24px;border-radius:var(--radius-lg);
  width:90%;max-width:320px;text-align:center;
  box-shadow:0 16px 40px rgba(0,0,0,0.2);
}
#progressText{margin-bottom:12px;font-weight:700;color:var(--text)}
#progressBar{
  background:linear-gradient(90deg,var(--accent-1),var(--accent-2));
  height:100%;transition:width 0.3s;border-radius:4px;
}

/* â”€â”€ PWA install banner â”€â”€ */
#pwa-install-notification{
  font-family:'Plus Jakarta Sans',ui-sans-serif,system-ui,sans-serif;
  background:linear-gradient(135deg,var(--accent-1),var(--accent-2),var(--accent-3)) !important;
}
#pwa-install-btn{
  background:rgba(255,255,255,0.2) !important;
  border:1px solid rgba(255,255,255,0.35) !important;
  color:#fff !important;border-radius:10px !important;
  font-weight:700 !important;font-family:inherit !important;
  cursor:pointer;transition:background 0.2s;
}
#pwa-install-btn:hover{background:rgba(255,255,255,0.32) !important}
#pwa-dismiss-btn{
  background:transparent !important;border:none !important;
  color:#fff !important;cursor:pointer;opacity:0.8;transition:opacity 0.2s;
}
#pwa-dismiss-btn:hover{opacity:1 !important}

/* â”€â”€ Scrollbar â”€â”€ */
::-webkit-scrollbar{width:4px;height:4px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:rgba(14,165,233,0.2);border-radius:4px}
::-webkit-scrollbar-thumb:hover{background:rgba(14,165,233,0.4)}

/* â”€â”€ Accessibility â”€â”€ */
.tab:focus,.btn:focus,input:focus,select:focus{
  outline:3px solid rgba(14,165,233,0.25);outline-offset:2px;
}

/* â”€â”€ Utility â”€â”€ */
.note{font-size:12px;color:var(--muted);line-height:1.5}
.small{font-size:12px;color:var(--muted)}
.footer{
  padding:14px 16px;
  background:linear-gradient(180deg,rgba(14,165,233,0.03),transparent);
  display:flex;gap:8px;flex-wrap:wrap;justify-content:space-between;
  border-top:1px solid rgba(14,165,233,0.08);
}